start:
    - print: Sending
    - send to:
        segment:
            - test_local_json_file
            - test_http_json_file
            - test_http_xml_file
            - test_ftp_json_file
    - read from file: samples/test.txt
    - assert:
        - Line in file
        - One more line

# Test automatic parsing of local json file
test_local_json_file:
    - read from file: samples/test.json
    - assert:
        name: "Zin"
        size: 12

# Test automatic parsing of remote json data
test_http_json_file:
    - read from file: https://api.exchangeratesapi.io/latest
    - assert:
        base: 'EUR'
    - pprint:

test_ftp_json_file:
    - read from file: ftp://ftp.ebi.ac.uk/pub/databases/genenames/new/json/alternative_loci_chr_1.json
    - insert:
        result: $ 'responseHeader' in  _ $
    - assert:
        result: True
    - print: "OK"
    - pprint:

# Test automatic parsing of remote json data
test_http_xml_file:
    - read from file: http://data.consumerfinance.gov/api/views.xml
    - insert:
        result: $'response' in _.keys()$
    - assert:
        result: True

